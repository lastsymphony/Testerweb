<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Folder Genshin (Lowercase)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 25px;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            margin: 25px auto;
            transition: all 0.3s;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        .progress-container {
            width: 100%;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin: 20px 0;
            display: none;
        }
        #progressBar {
            width: 0%;
            height: 25px;
            border-radius: 5px;
            background-color: #3498db;
            text-align: center;
            line-height: 25px;
            color: white;
            transition: width 0.3s;
        }
        .preview {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            font-family: monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .character-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 8px;
            margin-top: 15px;
        }
        .character-item {
            padding: 6px;
            background-color: #eaf2f8;
            border-radius: 3px;
            font-size: 13px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Generator Folder Genshin (Lowercase)</h1>
    <div class="container">
        <p>Generator ini akan membuat:</p>
        <ul>
            <li>Folder utama: 10000001 sampai 10000102</li>
            <li>Subfolder: nama karakter genshin dalam huruf kecil</li>
            <li>3 file json dalam setiap subfolder (data.json, constellation.json, talents.json)</li>
        </ul>

        <div class="progress-container" id="progressContainer">
            <div id="progressBar">0%</div>
        </div>

        <button id="generateBtn">Buat File ZIP</button>

        <div class="preview">
📁 10000001/
└── 📁 amber/
    ├── 📄 data.json
    ├── 📄 constellation.json
    └── 📄 talents.json
...
📁 10000102/
└── 📁 ineffa/
    ├── 📄 data.json
    ├── 📄 constellation.json
    └── 📄 talents.json
        </div>

        <h3>Daftar Karakter:</h3>
        <div class="character-list" id="characterList">
            <!-- Daftar karakter akan diisi oleh JavaScript -->
        </div>
    </div>

    <script>
        // Daftar karakter Genshin Impact dalam lowercase
        const characters = [
            "amber", "barbara", "beidou", "bennett", "chongyun", 
            "diluc", "fischl", "jean", "kaeya", "keqing", 
            "lisa", "mona", "ningguang", "noelle", "qiqi", 
            "razor", "sucrose", "traveler", "venti", "xiangling", 
            "xingqiu", "klee", "diona", "tartaglia", "xinyan", 
            "zhongli", "albedo", "ganyu", "xiao", "hu tao", 
            "rosaria", "yanfei", "eula", "kaedehara kazuha", "kamisato ayaka", 
            "sayu", "yoimiya", "aloy", "kujou sara", "raiden shogun", 
            "sangonomiya kokomi", "thoma", "arataki itto", "gorou", "shenhe", 
            "yun jin", "yae miko", "kamisato ayato", "yelan", "kuki shinobu", 
            "shikanoin heizou", "collei", "tighnari", "dori", "candace", 
            "cyno", "nilou", "nahida", "layla", "faruzan", 
            "wanderer", "alhaitham", "yaoyao", "dehya", "mika", 
            "baizhu", "kaveh", "kirara", "lynette", "lyney", 
            "freminet", "neuvillette", "wriothesley", "charlotte", "furina", 
            "navia", "chevreuse", "gaming", "xianyun", "chiori", 
            "arlecchino", "clorinde", "sethos", "sigewinne", "emilie", 
            "kachina", "mualani", "kinich", "xilonen", "chasca", 
            "ororon", "citlali", "mavuika", "lan yan", "yumemizuki mizuki", 
            "iansan", "varesa", "escoffier", "ifa", "dahlia", 
            "skirk", "ineffa"
        ];

        // Template JSON
        const dataJsonTemplate = {
            "id": 0,
            "name": "",
            "title": "",
            "description": "",
            "rarity": 5,
            "element": "",
            "weapon_type": "",
            "birthday": "",
            "region": "",
            "affiliation": ""
        };

        const constellationJsonTemplate = {
            "name": "",
            "constellations": [
                {"level": 1, "name": "", "effect": ""},
                {"level": 2, "name": "", "effect": ""},
                {"level": 3, "name": "", "effect": ""},
                {"level": 4, "name": "", "effect": ""},
                {"level": 5, "name": "", "effect": ""},
                {"level": 6, "name": "", "effect": ""}
            ]
        };

        const talentsJsonTemplate = {
            "name": "",
            "combat_skills": {
                "normal_attack": {"name": "", "description": ""},
                "elemental_skill": {"name": "", "description": "", "cooldown": 0},
                "elemental_burst": {"name": "", "description": "", "energy_cost": 0}
            },
            "passive_skills": [
                {"name": "", "description": ""},
                {"name": "", "description": ""},
                {"name": "", "description": ""}
            ]
        };

        // Tampilkan daftar karakter
        const characterList = document.getElementById('characterList');
        characters.forEach((character, index) => {
            const item = document.createElement('div');
            item.className = 'character-item';
            item.textContent = `${10000001 + index}/${character}`;
            characterList.appendChild(item);
        });

        document.getElementById('generateBtn').addEventListener('click', async function() {
            const btn = this;
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            
            btn.disabled = true;
            btn.textContent = 'Sedang membuat...';
            progressContainer.style.display = 'block';
            
            const zip = new JSZip();
            const totalFolders = characters.length;
            
            for (let i = 0; i < totalFolders; i++) {
                const folderNumber = 10000001 + i;
                const folderName = folderNumber.toString();
                const characterName = characters[i];
                
                // Buat folder utama
                const mainFolder = zip.folder(folderName);
                
                // Buat subfolder karakter
                const charFolder = mainFolder.folder(characterName);
                
                // Buat file JSON
                const dataJson = JSON.stringify({
                    ...dataJsonTemplate,
                    id: folderNumber,
                    name: characterName
                }, null, 2);
                
                const constellationJson = JSON.stringify({
                    ...constellationJsonTemplate,
                    name: characterName
                }, null, 2);
                
                const talentsJson = JSON.stringify({
                    ...talentsJsonTemplate,
                    name: characterName
                }, null, 2);
                
                // Tambahkan file JSON ke folder karakter
                charFolder.file("data.json", dataJson);
                charFolder.file("constellation.json", constellationJson);
                charFolder.file("talents.json", talentsJson);
                
                // Update progress
                const progress = Math.floor((i + 1) / totalFolders * 100);
                progressBar.style.width = progress + '%';
                progressBar.textContent = progress + '%';
                
                // Beri waktu untuk update UI
                await new Promise(resolve => setTimeout(resolve, 0));
            }
            
            // Generate ZIP file
            zip.generateAsync({type: 'blob'}, metadata => {
                const progress = Math.floor(metadata.percent);
                progressBar.style.width = progress + '%';
                progressBar.textContent = progress + '%';
            }).then(function(content) {
                saveAs(content, "genshin_lowercase.zip");
                btn.disabled = false;
                btn.textContent = 'Buat File ZIP';
                progressBar.textContent = '100% - Selesai!';
            });
        });
    </script>
</body>
</html>
