<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Data Karakter Genshin Impact</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eaeaea;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        button {
            background-color: #4e73df;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            margin: 25px auto;
            transition: all 0.3s;
            font-weight: bold;
        }
        button:hover {
            background-color: #3a5bc7;
            transform: translateY(-2px);
        }
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        .progress-container {
            width: 100%;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin: 20px 0;
            display: none;
        }
        #progressBar {
            width: 0%;
            height: 25px;
            border-radius: 5px;
            background-color: #4e73df;
            text-align: center;
            line-height: 25px;
            color: white;
            transition: width 0.3s;
        }
        .preview {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            font-family: monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .character-card {
            padding: 10px;
            background-color: #eaf2f8;
            border-radius: 5px;
            border-left: 4px solid #4e73df;
        }
        .character-id {
            font-weight: bold;
            color: #2c3e50;
        }
        .character-name {
            color: #4e73df;
        }
    </style>
</head>
<body>
    <h1>Generator Data Karakter Genshin Impact</h1>
    <div class="container">
        <p>Generator ini akan membuat struktur folder dengan data lengkap untuk setiap karakter:</p>
        <ul>
            <li>Folder utama: 10000001 sampai 10000102</li>
            <li>Subfolder: nama karakter dalam lowercase</li>
            <li>3 file JSON (data.json, talents.json, constellation.json) dengan struktur lengkap</li>
        </ul>

        <div class="progress-container" id="progressContainer">
            <div id="progressBar">0%</div>
        </div>

        <button id="generateBtn">Generate Data ZIP</button>

        <div class="preview">
üìÅ 10000075/
‚îî‚îÄ‚îÄ üìÅ furina/
    ‚îú‚îÄ‚îÄ üìÑ data.json
    ‚îú‚îÄ‚îÄ üìÑ talents.json
    ‚îî‚îÄ‚îÄ üìÑ constellation.json
        </div>

        <h3>Contoh Data Furina (10000075):</h3>
        <div class="character-grid">
            <div class="character-card">
                <div class="character-id">10000075</div>
                <div class="character-name">furina</div>
                <div>Hydro Archon</div>
                <div>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</div>
            </div>
        </div>
    </div>

    <script>
        // Daftar karakter Genshin Impact dalam lowercase
        const characters = [
            "amber", "barbara", "beidou", "bennett", "chongyun", 
            "diluc", "fischl", "jean", "kaeya", "keqing", 
            "lisa", "mona", "ningguang", "noelle", "qiqi", 
            "razor", "sucrose", "traveler", "venti", "xiangling", 
            "xingqiu", "klee", "diona", "tartaglia", "xinyan", 
            "zhongli", "albedo", "ganyu", "xiao", "hu tao", 
            "rosaria", "yanfei", "eula", "kaedehara kazuha", "kamisato ayaka", 
            "sayu", "yoimiya", "aloy", "kujou sara", "raiden shogun", 
            "sangonomiya kokomi", "thoma", "arataki itto", "gorou", "shenhe", 
            "yun jin", "yae miko", "kamisato ayato", "yelan", "kuki shinobu", 
            "shikanoin heizou", "collei", "tighnari", "dori", "candace", 
            "cyno", "nilou", "nahida", "layla", "faruzan", 
            "wanderer", "alhaitham", "yaoyao", "dehya", "mika", 
            "baizhu", "kaveh", "kirara", "lynette", "lyney", 
            "freminet", "neuvillette", "wriothesley", "charlotte", "furina", 
            "navia", "chevreuse", "gaming", "xianyun", "chiori", 
            "arlecchino", "clorinde", "sethos", "sigewinne", "emilie", 
            "kachina", "mualani", "kinich", "xilonen", "chasca", 
            "ororon", "citlali", "mavuika", "lan yan", "yumemizuki mizuki", 
            "iansan", "varesa", "escoffier", "ifa", "dahlia", 
            "skirk", "ineffa"
        ];

        // Fungsi untuk membuat data.json
        function createDataJson(id, name) {
            // Data dasar untuk semua karakter
            const baseData = {
                "id": id,
                "name": name.charAt(0).toUpperCase() + name.slice(1),
                "title": "",
                "vision": "",
                "weapon": "",
                "nation": "",
                "affiliation": "",
                "rarity": 5,
                "constellation": "",
                "birthday": "",
                "description": "",
                "icon": `/assets/avatar/${id}/${name}.jpg`,
                "splash": `/assets/splash/${id}/${name}.jpg`,
                "vision_icon": `/assets/vision/${name}.jpg`,
                "weapon_icon": `/assets/weapon/${name}.jpg`
            };

            // Data khusus untuk Furina (contoh)
            if (id === 10000075) {
                return {
                    ...baseData,
                    "name": "Furina",
                    "title": "Endless Solo of Solitude",
                    "vision": "Hydro",
                    "weapon": "Sword",
                    "nation": "Fontaine",
                    "affiliation": "Fontaine Court",
                    "rarity": 5,
                    "constellation": "Animula Choragi",
                    "birthday": "10-13",
                    "description": "Furina, the Hydro Archon of Fontaine, is known for her extravagant performances and theatrical demeanor, though she hides deeper burdens behind her stage persona."
                };
            }

            return baseData;
        }

        // Fungsi untuk membuat talents.json
        function createTalentsJson(id, name) {
            // Data dasar untuk semua karakter
            const baseTalents = {
                "normal_attack": {
                    "name": "",
                    "description": "",
                    "icon": `/assets/talent/${id}/basic.jpg`
                },
                "elemental_skill": {
                    "name": "",
                    "description": "",
                    "icon": `/assets/talent/${id}/elemental.jpg`
                },
                "elemental_burst": {
                    "name": "",
                    "description": "",
                    "icon": `/assets/talent/${id}/burst.jpg`
                },
                "passives": [
                    {
                        "name": "",
                        "description": ""
                    },
                    {
                        "name": "",
                        "description": ""
                    },
                    {
                        "name": "",
                        "description": ""
                    }
                ]
            };

            // Data khusus untuk Furina (contoh)
            if (id === 10000075) {
                return {
                    "normal_attack": {
                        "name": "Soloist's Solicitation",
                        "description": "Performs up to 4 consecutive strikes with a sword. Charged attack consumes stamina to perform a quick dash and two rapid slashes.",
                        "icon": `/assets/talent/${id}/basic.jpg`
                    },
                    "elemental_skill": {
                        "name": "Salon Solitaire",
                        "description": "Summons Salon Members: three anthropomorphic creatures (Gentilhomme Usher, Surintendante Chevalmarin, and Mademoiselle Crabaletta), each with different effects. Also summons the Singer of Many Waters if Arkhe alignment is Pneuma.",
                        "icon": `/assets/talent/${id}/elemental.jpg`
                    },
                    "elemental_burst": {
                        "name": "Let the People Rejoice",
                        "description": "Furina enters a special state where she continuously heals party members and deals Hydro DMG to nearby enemies, based on the number of Fanfare points.",
                        "icon": `/assets/talent/${id}/burst.jpg`
                    },
                    "passives": [
                        {
                            "name": "Endless Waltz",
                            "description": "If a party member's HP is increased or decreased during combat, Furina gains 1 Fanfare point. Max 300 points."
                        },
                        {
                            "name": "Dance of the Moonlight",
                            "description": "Increases the effects of Fanfare for both healing and damage, scaling with Furina's Max HP."
                        },
                        {
                            "name": "Screenplay of Eternity",
                            "description": "Decreases sprinting stamina consumption for party members by 20%."
                        }
                    ]
                };
            }

            return baseTalents;
        }

        // Fungsi untuk membuat constellation.json
        function createConstellationJson(id, name) {
            // Data dasar untuk semua karakter
            const baseConstellations = [
                {
                    "name": "",
                    "description": "",
                    "icon": `/assets/constellation/${id}/1.jpg`
                },
                {
                    "name": "",
                    "description": "",
                    "icon": `/assets/constellation/${id}/2.jpg`
                },
                {
                    "name": "",
                    "description": "",
                    "icon": `/assets/constellation/${id}/3.jpg`
                },
                {
                    "name": "",
                    "description": "",
                    "icon": `/assets/constellation/${id}/4.jpg`
                },
                {
                    "name": "",
                    "description": "",
                    "icon": `/assets/constellation/${id}/5.jpg`
                },
                {
                    "name": "",
                    "description": "",
                    "icon": `/assets/constellation/${id}/6.jpg`
                }
            ];

            // Data khusus untuk Furina (contoh)
            if (id === 10000075) {
                return [
                    {
                        "name": "Love Is a Rebellious Bird That None Can Tame",
                        "description": "When the Salon Members from Salon Solitaire hit an opponent, or when the Singer of Many Waters deals Hydro DMG to an opponent, Furina will gain 1 Fanfare point. This effect can occur once every 0.1s.",
                        "icon": `/assets/constellation/${id}/1.jpg`
                    },
                    {
                        "name": "A Woman Adapts Like Duckweed in Water",
                        "description": "When Furina uses her Elemental Skill, she will summon 1 additional Salon Member.",
                        "icon": `/assets/constellation/${id}/2.jpg`
                    },
                    {
                        "name": "My Life is a Sea of Yearning",
                        "description": "Increases the Level of Let the People Rejoice by 3. Maximum upgrade level is 15.",
                        "icon": `/assets/constellation/${id}/3.jpg`
                    },
                    {
                        "name": "They Know Not Life, Who Dwelt in the Netherworld Not!",
                        "description": "When the Salon Members hit an opponent, the opponent's Hydro RES will be decreased by 35% for 4s.",
                        "icon": `/assets/constellation/${id}/4.jpg`
                    },
                    {
                        "name": "His Name I Now Know, It Is...",
                        "description": "Increases the Level of Salon Solitaire by 3. Maximum upgrade level is 15.",
                        "icon": `/assets/constellation/${id}/5.jpg`
                    },
                    {
                        "name": "To Suffer, To Heal, and To Enlighten",
                        "description": "Furina gains a 75% Healing Bonus and 40% Hydro DMG Bonus based on the Fanfare points she has accumulated.",
                        "icon": `/assets/constellation/${id}/6.jpg`
                    }
                ];
            }

            return baseConstellations;
        }

        // Tampilkan daftar karakter
        const characterGrid = document.querySelector('.character-grid');
        characters.forEach((character, index) => {
            const id = 10000001 + index;
            if (id === 10000075) return; // Skip karena sudah ada contoh Furina
            
            const card = document.createElement('div');
            card.className = 'character-card';
            card.innerHTML = `
                <div class="character-id">${id}</div>
                <div class="character-name">${character}</div>
                <div>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è${id % 2 ? '‚≠êÔ∏è' : ''}</div>
            `;
            characterGrid.appendChild(card);
        });

        document.getElementById('generateBtn').addEventListener('click', async function() {
            const btn = this;
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            
            btn.disabled = true;
            btn.textContent = 'Generating...';
            progressContainer.style.display = 'block';
            
            const zip = new JSZip();
            const totalFolders = characters.length;
            
            for (let i = 0; i < totalFolders; i++) {
                const folderNumber = 10000001 + i;
                const folderName = folderNumber.toString();
                const characterName = characters[i];
                
                // Buat folder utama
                const mainFolder = zip.folder(folderName);
                
                // Buat subfolder karakter
                const charFolder = mainFolder.folder(characterName);
                
                // Buat file JSON
                const dataJson = JSON.stringify(createDataJson(folderNumber, characterName), null, 2);
                const talentsJson = JSON.stringify(createTalentsJson(folderNumber, characterName), null, 2);
                const constellationJson = JSON.stringify(createConstellationJson(folderNumber, characterName), null, 2);
                
                // Tambahkan file JSON ke folder karakter
                charFolder.file("data.json", dataJson);
                charFolder.file("talents.json", talentsJson);
                charFolder.file("constellation.json", constellationJson);
                
                // Update progress
                const progress = Math.floor((i + 1) / totalFolders * 100);
                progressBar.style.width = progress + '%';
                progressBar.textContent = progress + '%';
                
                // Beri waktu untuk update UI
                await new Promise(resolve => setTimeout(resolve, 0));
            }
            
            // Generate ZIP file
            zip.generateAsync({type: 'blob'}, metadata => {
                const progress = Math.floor(metadata.percent);
                progressBar.style.width = progress + '%';
                progressBar.textContent = progress + '%';
            }).then(function(content) {
                saveAs(content, "genshin_complete_data.zip");
                btn.disabled = false;
                btn.textContent = 'Generate Data ZIP';
                progressBar.textContent = '100% - Completed!';
            });
        });
    </script>
</body>
</html>
