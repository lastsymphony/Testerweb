<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ouo Bypass â€“ Lite</title>
<style>
  *{box-sizing:border-box}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);margin:0;padding:20px;color:#222}
  .wrap{max-width:880px;margin:auto}
  .card{background:#fff;border-radius:14px;padding:18px 16px;margin:12px 0;box-shadow:0 8px 24px rgba(0,0,0,.18)}
  h1{color:#fff;text-align:center;margin:6px 0 16px}
  .tabs{display:flex;gap:8px;border-bottom:2px solid #eee}
  .tab{padding:10px 14px;cursor:pointer;border-bottom:3px solid transparent}
  .tab.active{color:#667eea;border-bottom-color:#667eea;font-weight:600}
  .pane{display:none}.pane.active{display:block}
  label{display:block;margin:8px 0 6px;font-weight:600}
  input[type=text]{width:100%;padding:12px 14px;border:2px solid #e6e6e6;border-radius:10px;font-size:15px}
  .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .btn{border:0;border-radius:10px;padding:10px 14px;color:#fff;cursor:pointer;background:linear-gradient(135deg,#667eea,#764ba2)}
  .btn.green{background:linear-gradient(135deg,#4CAF50,#45a049)}
  .btn.red{background:linear-gradient(135deg,#f44336,#d32f2f)}
  .status{display:none;margin-top:10px;border-radius:10px;padding:10px}
  .status.active{display:block}
  .status.info{background:#d1ecf1;color:#0c5460}.status.ok{background:#d4edda;color:#155724}.status.warn{background:#fff3cd;color:#856404}.status.err{background:#f8d7da;color:#721c24}
  .bar{height:8px;background:#eee;border-radius:99px;overflow:hidden;margin-top:8px}
  .bar>i{display:block;height:100%;width:0;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .3s}
  .flow{display:flex;gap:10px;align-items:center;margin:8px 0}
  .step{flex:1;text-align:center;border:2px solid #ddd;border-radius:10px;padding:10px;background:#fafafa}
  .step.active{border-color:#667eea;background:#eef2ff}.step.done{border-color:#4CAF50;background:#e8f5e9}
  .arrow{height:2px;background:#ddd;flex:0 0 28px}.arrow.done{background:#4CAF50}
  .code{background:#f6f6f7;border:1px solid #e6e6e6;border-radius:10px;padding:10px;font:13px/1.5 ui-monospace,Consolas,Menlo,monospace;overflow:auto;max-height:220px;white-space:pre-wrap;word-break:break-all}
  small.mono{font-family:ui-monospace,Consolas,monospace;color:#666}
</style>
</head>
<body>
  <h1>ğŸ¯ Ouo Bypass â€“ Lite</h1>
  <div class="wrap">

    <div class="card">
      <div class="tabs">
        <div class="tab active" onclick="tab('quick',this)">ğŸš€ Quick</div>
        <div class="tab" onclick="tab('bookmark',this)">ğŸ“– Bookmarklet</div>
        <div class="tab" onclick="tab('userscript',this)">ğŸ”§ Userscript</div>
        <div class="tab" onclick="tab('adv',this)">âš™ï¸ Advanced</div>
      </div>

      <!-- QUICK -->
      <div id="quick" class="pane active">
        <label for="u">Link Ouo:</label>
        <input id="u" type="text" placeholder="https://ouo.press/xxxxx"/>
        <div class="flow">
          <div id="s1" class="step active">1. Captcha</div>
          <div id="a1" class="arrow"></div>
          <div id="s2" class="step">2. Countdown</div>
          <div id="a2" class="arrow"></div>
          <div id="s3" class="step">3. Redirect</div>
        </div>
        <div class="row">
          <button class="btn" onclick="openOuo()">ğŸš€ Buka Tab OUO</button>
          <button class="btn green" onclick="openAlt()">ğŸ”— Coba Link Alternatif</button>
          <button class="btn red" onclick="resetFlow()">â™»ï¸ Reset</button>
        </div>
        <div id="st" class="status"><div id="stm"></div><div class="bar"><i id="prog"></i></div></div>
        <p style="margin-top:8px"><small class="mono">Tip: Setelah tab OUO terbuka, jalankan <b>Bookmarklet</b> atau aktifkan <b>Userscript</b> agar proses otomatis.</small></p>
      </div>

      <!-- BOOKMARKLET -->
      <div id="bookmark" class="pane">
        <p>Tarik tombol ini ke bookmark bar, lalu klik saat berada di halaman OUO:</p>
        <p style="margin:10px 0">
          <a class="btn" draggable="true"
             href="javascript:(()=>{const log=s=>console.log('[OUO]',s);const id=x=>document.getElementById(x);const wait=(sel,ok,txt)=>{const t=()=>{const el=document.querySelector(sel);if(el){ok(el)}else{log(txt||'wait '+sel);setTimeout(t,900)}};t()};let step=1;const flow=n=>{step=n;log('step '+n)};if(!/ouo\.(io|press)/.test(location.host)){alert('Bukan halaman OUO');return}flow(1);wait('#x-token',()=>{flow(2);wait('#btn-main:not(.disabled)',btn=>{btn.click();flow(3)},'counting...')},'captcha...')})();">
            âš¡ Ouo Quick
          </a>
        </p>
        <div class="code">Bookmarklet di atas bekerja <i>di halaman OUO</i> (origin yang sama). Tidak ada injeksi lintas-origin.</div>
      </div>

      <!-- USERSCRIPT -->
      <div id="userscript" class="pane">
        <p>Pasang di Tampermonkey â†’ New script â†’ paste kode ini:</p>
        <div id="us" class="code">
// ==UserScript==
// @name        OUO Auto (Lite)
// @namespace   ouo-lite
// @match       https://ouo.io/*
// @match       https://ouo.press/*
// @run-at      document-end
// @grant       none
// ==/UserScript==
(function(){
  'use strict';
  const log = (...a)=>console.log('[OUO]',...a);
  const wait = (sel, cb, note) => {
    const t = () => { const el = document.querySelector(sel);
      if (el) cb(el); else { note&&log(note); setTimeout(t, 800); } };
    t();
  };
  // Step 1: tunggu token (Turnstile sukses)
  wait('#x-token', () => {
    log('captcha ok');
    // Step 2: tunggu tombol aktif, lalu klik (human/get link)
    wait('#btn-main:not(.disabled)', btn => { btn.click(); log('btn clicked'); }, 'countdown...');
  }, 'waiting captcha...');
  // Opsional: auto-submit form kalau ada
  setInterval(() => {
    const f = document.getElementById('form-captcha') || document.getElementById('form-go');
    if (f) try { f.submit(); } catch {}
  }, 1800);
})();
        </div>
        <div class="row"><button class="btn" onclick="copyUS()">ğŸ“‹ Copy Userscript</button></div>
      </div>

      <!-- ADVANCED -->
      <div id="adv" class="pane">
        <p>Best-effort via proxy publik (bisa gagal karena anti-scrape/CORS).</p>
        <div class="row">
          <button class="btn" onclick="extractAlt()">ğŸ” Extract /fbc via Proxy</button>
        </div>
        <div id="advout" class="card" style="margin-top:10px;padding:10px"></div>
      </div>
    </div>

  </div>

<script>
  /* ====== UTIL UI ====== */
  const el = id => document.getElementById(id);
  function tab(name, tEl){
    document.querySelectorAll('.pane').forEach(p=>p.classList.remove('active'));
    document.getElementById(name).classList.add('active');
    document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
    if (tEl) tEl.classList.add('active');
  }
  function status(msg,type='info',p=0){
    const box = el('st'); box.className = 'status active '+({info:'info',ok:'ok',warn:'warn',err:'err'}[type]||'info');
    el('stm').textContent = msg; el('prog').style.width = (p|0)+'%';
  }
  function setFlow(step){
    for(let i=1;i<=3;i++){
      const s = el('s'+i); s.className = 'step'+(i<step?' done':i===step?' active':'');
      const arrowId = i===1?'a1':i===2?'a2':null;
      if (arrowId){ const a = el(arrowId); a.className = 'arrow'+(i<step?' done':''); }
    }
  }
  function valid(url){ return /^https?:\/\/(ouo\.io|ouo\.press)\//i.test(url||''); }

  /* ====== QUICK ====== */
  function openOuo(){
    const url = el('u').value.trim();
    if(!url){return status('âš ï¸ Masukkan link OUO','warn')}
    if(!valid(url)){return status('âŒ Link harus ouo.io / ouo.press','err')}
    status('ğŸš€ Membuka tab OUO...','info',30); setFlow(1);
    const w = window.open(url,'_blank','noopener');
    if(!w) return status('âŒ Pop-up diblokir. Izinkan pop-up.','err');
    status('â„¹ï¸ Di tab OUO, jalankan Bookmarklet / aktifkan Userscript.','info',80);
  }

  function openAlt(){
    const url = el('u').value.trim();
    if(!url){return status('âš ï¸ Masukkan link OUO','warn')}
    if(!valid(url)){return status('âŒ Link harus ouo.io / ouo.press','err')}
    const id = url.split('/').pop();
    const alts = [
      `https://ouo.press/fbc/${id}`,
      `https://ouo.io/fbc/${id}`,
      `https://ouo.press/go/${id}`,
      `https://ouo.io/go/${id}`
    ];
    status('ğŸ”— Mencoba alternatif...','info',40);
    alts.forEach((u,i)=>setTimeout(()=>window.open(u,'_blank','noopener'), i*400));
    status('âœ… Alternatif dibuka di tab baru.','ok',100); setFlow(2);
  }

  function resetFlow(){
    setFlow(1); status('â†º Reset.','info',0); el('u').focus();
  }
  setFlow(1);

  /* ====== USERSCRIPT COPY ====== */
  function copyUS(){
    const t = el('us')?.textContent || '';
    if(!t) return alert('Gagal menemukan kode.');
    navigator.clipboard.writeText(t).then(()=>alert('âœ… Disalin!')).catch(()=>alert('âŒ Gagal menyalin.'));
  }

  /* ====== ADVANCED (best-effort proxy) ====== */
  async function extractAlt(){
    const url = el('u').value.trim();
    const out = el('advout');
    if(!url){ out.innerHTML = '<div class="status warn active">âš ï¸ Masukkan link OUO dulu.</div>'; return; }
    if(!valid(url)){ out.innerHTML = '<div class="status err active">âŒ Link harus ouo.io / ouo.press.</div>'; return; }
    out.innerHTML = '<div class="status info active">â³ Fetch via proxy publik...</div>';
    try{
      const api = 'https://api.allorigins.win/get?url='+encodeURIComponent(url);
      const r = await fetch(api);
      if(!r.ok) throw new Error('proxy error');
      const j = await r.json();
      const div = document.createElement('div'); div.innerHTML = j.contents || '';
      const a = div.querySelector('a[href*="/fbc/"]');
      if(a){
        const href = a.getAttribute('href') || '';
        const full = href.startsWith('http') ? href : ('https://ouo.press'+href);
        out.innerHTML = `<div class="status ok active">âœ… Ditemukan alternatif:</div>
          <div class="code">${full}</div>
          <button class="btn" onclick="window.open('${full}','_blank','noopener')">ğŸ”— Buka</button>`;
        setFlow(3);
      }else{
        out.innerHTML = '<div class="status warn active">âš ï¸ Tidak ditemukan /fbc. Gunakan Bookmarklet/Userscript.</div>';
      }
    }catch(e){
      out.innerHTML = '<div class="status err active">âŒ Proxy/CORS diblok. Coba lagi atau pakai Userscript.</div>';
    }
  }
</script>
</body>
</html>
